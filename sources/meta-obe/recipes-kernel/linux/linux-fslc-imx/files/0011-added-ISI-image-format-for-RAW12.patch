From f54b6bc7bca50e726b1c66c7c8253290c1a33182 Mon Sep 17 00:00:00 2001
From: Chris Storah <chris.storah@gmail.com>
Date: Tue, 30 Jan 2024 15:59:16 +1100
Subject: [PATCH] added ISI image format for RAW12

---
 drivers/staging/media/imx/imx8-isi-cap.c | 9 ++++++++-
 drivers/staging/media/imx/imx8-isi-fmt.c | 9 +++++++++
 2 files changed, 17 insertions(+), 1 deletion(-)

diff --git a/drivers/staging/media/imx/imx8-isi-cap.c b/drivers/staging/media/imx/imx8-isi-cap.c
index 7587f68a8c96..cb21a4540656 100644
--- a/drivers/staging/media/imx/imx8-isi-cap.c
+++ b/drivers/staging/media/imx/imx8-isi-cap.c
@@ -54,7 +54,14 @@ struct mxc_isi_fmt mxc_isi_src_formats[] = {
 		.memplanes	= 1,
 		.colplanes	= 1,
 		.align		= 2,
-	}
+	}, {
+		.name 		= "RAWRGB12 (SRGGB12)",
+		.fourcc		= V4L2_PIX_FMT_SRGGB12,
+		.depth		= { 16 },
+		.memplanes	= 1,
+		.colplanes	= 1,
+		.align		= 3,
+	},
 };
 
 struct mxc_isi_fmt *mxc_isi_get_format(unsigned int index)
diff --git a/drivers/staging/media/imx/imx8-isi-fmt.c b/drivers/staging/media/imx/imx8-isi-fmt.c
index db11c809a3d3..808cb7dc82eb 100644
--- a/drivers/staging/media/imx/imx8-isi-fmt.c
+++ b/drivers/staging/media/imx/imx8-isi-fmt.c
@@ -97,6 +97,15 @@ struct mxc_isi_fmt mxc_isi_out_formats[] = {
 		.colplanes	= 1,
 		.align		= 2,
 		.mbus_code	= MEDIA_BUS_FMT_RGB888_1X24,
+	}, {
+		.name 		= "RAWRGB12 (SRGGB12)",
+		.fourcc		= V4L2_PIX_FMT_SRGGB12,
+		.depth		= { 16 },
+		.color		= MXC_ISI_OUT_FMT_RAW16,
+		.memplanes	= 1,
+		.colplanes	= 1,
+		.align		= 3,
+		.mbus_code	= MEDIA_BUS_FMT_SRGGB12_1X12,
 	}
 };
 
-- 
2.39.2

